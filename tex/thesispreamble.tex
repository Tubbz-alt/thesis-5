% LaTeX preamble
\newif \ifdraft \draftfalse

\newcommand{\Title}{DEPENDENT TYPES IN HASKELL: THEORY AND PRACTICE}
\newcommand{\Author}{Richard A.~Eisenberg}
\newcommand{\Advisor}{Stephanie Weirich}
\newcommand{\Year}{2016}

\usepackage{chngcntr}
\counterwithout{footnote}{chapter}

\usepackage[top=1in, bottom=1in, left=1.5in, right=1in,includefoot,paperwidth=8.5in,paperheight=11in]{geometry}

\hypersetup{
    pdftitle={\Title},
    pdfauthor={\Author},
    bookmarksnumbered=true,
    bookmarksopen=true,
    bookmarksopenlevel=1,
    hidelinks,
    naturalnames=true,
    pdfstartview=Fit,
    pdfpagemode=UseOutlines,
    final
}

% some cool stuff inherited from Brent
\usepackage{fancyhdr}
\lfoot[\fancyplain{}{}]{\fancyplain{}{}}
\rfoot[\fancyplain{}{}]{\fancyplain{}{}}
\cfoot[\fancyplain{}{\footnotesize\thepage}]{\fancyplain{}{\footnotesize\thepage}}
\lhead[\fancyplain{}{}]{\fancyplain{}{}}
\rhead[\fancyplain{}{}]{\fancyplain{}{}}
\ifdraft
\chead[\fancyplain{}{\textbf{DRAFT ---
    \today}}]{\fancyplain{}{\textbf{DRAFT --- \today}}}
\fi
\renewcommand{\headrulewidth}{0pt}
\setlength{\headheight}{15pt}

\newcommand{\pref}[1]{\prettyref{#1}}
\newcommand{\signature}{~ \\ \underline{\hspace{20em}}}

\newenvironment{pagecentered}{%
\vspace*{\stretch{2}}%
\begin{center}%
\begin{minipage}{.8\textwidth}%
}{%
\end{minipage}%
\end{center}%
\vspace*{\stretch{3}}\clearpage}

\newcommand{\nochapter}[1]{%
  \refstepcounter{chapter}%
  \addcontentsline{toc}{chapter}{#1}%
  \markright{#1}}

% notes to self
\ifdraft
\newcommand{\rae}[1]{\textcolor{magenta}{RAE: #1}}
\else
\newcommand{\rae}[1]{}
\fi

% theorems, etc
\newtheorem{theorem}{Theorem}[chapter]
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{definition}[theorem]{Definition}
\newtheorem{axiom}[theorem]{Axiom}
\newtheorem{property}[theorem]{Property}
\newtheorem{assumption}[theorem]{Assumption}
\newtheorem{claim}[theorem]{Claim}
\newtheorem*{lemma*}{Lemma}
\newtheorem*{definition*}{Definition}
\newtheorem*{theorem*}{Theorem}
\newtheorem*{corollary*}{Corollary}
\newtheorem*{claim*}{Claim}
\newtheorem*{property*}{Property}

\theoremstyle{remark}
\newtheorem*{remark}{Remark}
\newtheorem{notation}[theorem]{Notation}

\newrefformat{defn}{Definition~\ref{#1}}
\newrefformat{axm}{Axiom~\ref{#1}}
\newrefformat{fig}{Figure~\vref{#1}}
\newrefformat{tab}{Table~\vref{#1}}
\newrefformat{tab}{Table \ref{#1}}  % RAE: How annoying. Try to fix.
\newrefformat{prop}{Property~\ref{#1}}
\newrefformat{assn}{Assumption~\ref{#1}}
\newrefformat{example}{example~(\ref{#1})}
\newrefformat{app}{Appendix~\ref{#1}}
\newrefformat{claim}{Claim~\ref{#1}}

% drop chapter numbers from equations
\renewcommand{\theequation}{\arabic{equation}}

% that trailing / prevents the macro from gobbling up a space
\def\outsidein/{\textmd{\textsc{OutsideIn}}}
\def\pico/{\textmd{\textsc{Pico}}}
\def\Pico/{\pico/}
\def\bake/{\textmd{\textsc{Bake}}}
\def\Bake/{\bake/}
\def\picod/{\textmd{\textsc{Pico}}${}^\equiv$}

% more formatting
\newcommand{\bnfeq}{\ensuremath{\mathop{{:}{:}{=}}}}
\newcommand{\bnfor}{\ensuremath{\mathop{|}}}
\newcommand{\defeq}{\triangleq}

% colorboxes
\definecolor{notyet}{rgb}{1,1,0.85}
\newmdenv[hidealllines=true,backgroundcolor=notyet,innerleftmargin=0pt,innerrightmargin=0pt,innertopmargin=-3pt,innerbottommargin=-3pt,skipabove=3pt]{notyet}
\newcommand{\notyetcolorname}{light yellow}

\definecolor{working}{rgb}{0.9,1,0.9}
\newmdenv[hidealllines=true,backgroundcolor=working,innerleftmargin=0pt,innerrightmargin=0pt,innertopmargin=-3pt,innerbottommargin=-3pt,skipabove=3pt]{working}
\newcommand{\workingcolorname}{light green}

\definecolor{noway}{rgb}{1,0.9,0.9}
\newmdenv[hidealllines=true,backgroundcolor=noway,innerleftmargin=0pt,innerrightmargin=0pt,innertopmargin=-3pt,innerbottommargin=-3pt,skipabove=3pt]{noway}
\newcommand{\nowaycolorname}{light red}


% enable numbering of subsubsections
\setcounter{secnumdepth}{3}

% hyphenation customization
\hyphenation{Has-kell in-ter-change-able}

% separate out ott rules
\newcommand{\rulesep}{\\[1ex]}
